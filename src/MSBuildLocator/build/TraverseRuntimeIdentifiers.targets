<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Target Name="TraverseRuntimeIdentifiers" AfterTargets="Restore">
    <PropertyGroup>
      <RuntimeIdentifiers>
        linux-x64;
        linux-musl-x64;
        linux-arm;
        linux-arm64;
        linux-bionic-arm64;
        linux-musl-arm64;
        linux-musl-arm;
        linux-bionic-x64;
        osx-x64;
        osx-arm64
      </RuntimeIdentifiers>
    </PropertyGroup>

    <PropertyGroup>
      <RuntimeIdentifierArray>$(RuntimeIdentifiers.Split(';'))</RuntimeIdentifierArray>
    </PropertyGroup>

    <ItemGroup>
      <CurrentRuntimeIdentifier Include="$(RuntimeIdentifierArray)" />
    </ItemGroup>

    <ItemGroup>
      <PackageReference Include="runtime.%(CurrentRuntimeIdentifier.Identity).Microsoft.NETCore.DotNetAppHost" Version="7.0.9" />
    </ItemGroup>

  </Target>
</Project>